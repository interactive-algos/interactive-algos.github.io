<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/i18n/defaults-*.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>

    <script src='../general/js/utils.js'></script>
    <script src='../general/js/odometry.js'></script>
    <script src='../general/js/particle.js'></script>
    <script src='../general/js/particle_filter.js'></script>
    <script src='../general/js/robot.js'></script>
    <script src='../general/js/view.js'></script>
    <script src='js/viewcontroller.js'></script>
    <script src='../general/js/map_data.js'></script>

    <title>Robot Motion Demo</title>

    <style type="text/css">
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body onload="init();">
<div class="container">
    <div class="row"><h3>Robot Motion Demo</h3></div>

    <div class='row'>
			<span style="position: relative;">
				<canvas id="canvas" style='position: absolute;top: 0;left: 0; z-index: 1;' width="700"
                        height="400"></canvas>
				<canvas id="background" style='position: absolute;top: 0;left: 0; z-index: 2;' width="700"
                        height="400"></canvas>
			</span>
        <div style="float:right;">
            <fieldset>
                <legend>Configuration</legend>
                <table>
                    <tbody>
                    <tr>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="path">Movement Path:</label>
                        </td>
                        <td>
                            <select id="path" class="selectpicker" onchange="selectPath(event);">
                                <optgroup label="Built-In">
                                    <option>Vanilla</option>
                                </optgroup>
                                <optgroup label="Custom">
                                    <option data-icon="glyphicon glyphicon-plus">Add a path</option>
                                </optgroup>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="nParticles"># of particles</label>:
                        </td>
                        <td>
                            <input type='text' id="nParticles"
                                   onkeypress='return isNumber(event);'
                                   class="form-control" value="500"
                                   size="3 ">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="goByOneStep">Step length</label>:
                        </td>
                        <td>
                            <input type='text' id="goByOneStep"
                                   onblur='return parameterChanged(event);'
                                   onkeypress='return isDecimal(event);'
                                   class="form-control" value="0.04"
                                   size="3">
                        </td>
                    </tr>

                    <tr>
                        <td><label for="robotForwardNoise">Move noise</label>:</td>
                        <td><input type='text' id="robotForwardNoise" onblur='return parameterChanged(event);'
                                   onkeypress='return isDecimal(event);' class="form-control form-control-sm" value="10"
                                   size="3"></td>
                        <td><label>%</label></td>
                    </tr>
                    <tr>
                        <td><label for="robotTurnNoise">Turn noise (Degrees)</label>:</td>
                        <td><input type='text' id="robotTurnNoise" onblur='return parameterChanged(event);'
                                   onkeypress='return isDecimal(event);' class="form-control form-control-sm" value="5"
                                   size="3"></td>
                        <td><label>%</label></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="fogOfWar">Sensor Radius</label>:
                        </td>
                        <td>
                            <input id="fogOfWar"
                                   onblur='return parameterChanged(event);'
                                   onkeypress='return isNumber(event);'
                                   class="form-control" value="3" size="4">
                        </td>
                    </tr>
                    </tbody>
                </table>

                <button onclick="reset()" class="btn btn-danger">
                    <span class="glyphicon glyphicon-stop"
                          aria-hidden="true"></span>
                </button>
                <button onclick="pause()" class="btn btn-info">
                    <span class="glyphicon glyphicon-step-backward"
                          aria-hidden="true"></span>
                </button>
                <button onclick="start()" class="btn btn-success">
                    <span class="glyphicon glyphicon-play"
                          aria-hidden="true"></span>
                </button>
                <button onclick="step()" class="btn btn-info">
                    <span class="glyphicon glyphicon-step-forward"
                          aria-hidden="true"></span>
                </button>
            </fieldset>
        </div>
    </div>
</div>
</body>
</html>
